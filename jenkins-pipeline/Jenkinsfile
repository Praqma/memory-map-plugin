properties([parameters([booleanParam(defaultValue: false, description: '', name: 'isRelease')])])

node("dockerhost1") {

    stage("checkout") {
        checkout scm
    } 
       
    stage("build") {
        buildMaven buildCommand: "mvn clean package test integration-test"
    }

    stage("changelog") {
        pac()
    }

    stage("release") {
        if(!params?.isRelease) {
            echo "Release build is not enabled"
        } else {
            echo "Release build enabled. Running release."
            releaseMaven()
        }
    }
}